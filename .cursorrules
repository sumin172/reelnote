# Cursor Rules for ReelNote Project

## ğŸš¨ í•µì‹¬ ì›ì¹™

### ì‘ì—… í”„ë¡œì„¸ìŠ¤ (í•„ìˆ˜)
- **ê³„íš ë¨¼ì €, ì‹¤í–‰ì€ ë‚˜ì¤‘**: ì½”ë“œ ìˆ˜ì • ì „ ë°˜ë“œì‹œ ê³„íšì„ ì œì•ˆí•˜ê³  ë™ì˜ë°›ê¸°
- ë™ì˜ë°›ì€ í›„ì—ë„ ì¶”ê°€ ìˆ˜ì • ì‹œ ë™ì¼í•˜ê²Œ ê³„íš ì œì•ˆ â†’ ë™ì˜ ìš”ì²­

### ì–¸ì–´ ê·œì¹™
- **ì‘ë‹µ/ì„¤ëª…**: í•œêµ­ì–´
- **ì½”ë“œ ì£¼ì„**: í•œêµ­ì–´
- **ë³€ìˆ˜/í•¨ìˆ˜/í´ë˜ìŠ¤ëª…**: ì˜ì–´ (camelCase, PascalCase)

### í•„ìˆ˜ íŒ¨í„´
- **TraceId**: ëª¨ë“  ë¡œê·¸/ì—ëŸ¬ ì‘ë‹µ í¬í•¨, ì„œë¹„ìŠ¤ ê°„ ìë™ ì „íŒŒ (ìˆ˜ë™ ì¶”ê°€ ê¸ˆì§€)
- **ì—ëŸ¬ ì²˜ë¦¬**: `ErrorDetail` ìŠ¤í‚¤ë§ˆ ì¤€ìˆ˜, `BaseAppException` ìƒì†
- **API ë¬¸ì„œí™”**: OpenAPI ì–´ë…¸í…Œì´ì…˜/ë°ì½”ë ˆì´í„° í•„ìˆ˜
- **íŠ¸ëœì­ì…˜**: ë°ì´í„° ë³€ê²½ ì‹œ `@Transactional`, ì™¸ë¶€ API í˜¸ì¶œ/ë©”ì‹œì§€ ì§ì ‘ ë°œí–‰ ê¸ˆì§€
- **í…ŒìŠ¤íŠ¸**: ì˜ˆì™¸ ì²˜ë¦¬, TraceId ì „íŒŒ, ErrorDetail í˜•ì‹ ê²€ì¦ í¬í•¨

## ğŸ“¦ í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸

**ReelNote** - ì˜í™” ë¦¬ë·° í”Œë«í¼ (Nx ëª¨ë…¸ë ˆí¬ + ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤)

### ì„œë¹„ìŠ¤ êµ¬ì„±
- **review-service**: Kotlin + Spring Boot 3.5.7 + PostgreSQL + Flyway + JPA
- **catalog-service**: NestJS + TypeScript + Prisma + PostgreSQL
- **frontend**: Next.js 16 + React 19 + TypeScript + Tailwind CSS
- **api-schema**: ê³µìœ  API ìŠ¤í‚¤ë§ˆ (TypeScript)

### í™˜ê²½
- Nx 22.0.3 (ëª¨ë…¸ë ˆí¬), pnpm (>=10.0.0), Node.js (>=24.0.0)
- Gradle (review-service), PostgreSQL (ë°ì´í„°ë² ì´ìŠ¤)

## âœï¸ ê³µí†µ ì½”ë”© ê·œì¹™

### ë“¤ì—¬ì“°ê¸° (íƒ­ ê¸ˆì§€)
- TypeScript/JavaScript/JSON/YAML: 2 spaces
- Kotlin/Gradle: 4 spaces

### ëª…ëª… ê·œì¹™
- **í´ë˜ìŠ¤/íƒ€ì…**: PascalCase (`ReviewService`, `MovieDto`)
- **í•¨ìˆ˜/ë©”ì„œë“œ/ë³€ìˆ˜**: camelCase (`getReviews`, `movieTitle`)
- **ìƒìˆ˜**: UPPER_SNAKE_CASE (`MAX_SIZE`, `DEFAULT_PAGE`)
- **íŒŒì¼ëª…**: TypeScript (kebab-case/camelCase), Kotlin (PascalCase)

### ì—ëŸ¬ ì²˜ë¦¬ & TraceId
- **ErrorDetail ìŠ¤í‚¤ë§ˆ**: `{ code, message, traceId, details? }` (ì™¸ë¶€ ì˜ˆì™¸ëŠ” ìµœì¢… ì‘ë‹µ ë‹¨ê³„ì—ì„œ ë³€í™˜)
- **ë¡œê¹… ë ˆë²¨**: 4xx WARN, 5xx ERROR
- **TraceId ì „íŒŒ**: HTTP í—¤ë” `X-Trace-Id` ìë™ ì „íŒŒ (WebClient/HttpService ì¸í„°ì…‰í„°), HTTP/ë¹„ë™ê¸°/ì´ë²¤íŠ¸ ì „íŒŒ ì‹œ ë™ì¼ TraceId ìœ ì§€

### ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- **catalog-service**: Prisma migrate (`prisma/schema.prisma`)
- **review-service**: Flyway (`src/main/resources/db/migration/`)

### ì»¤ë°‹ ë©”ì‹œì§€
- Conventional Commits: `type(scope): description`
- ì˜ˆ: `feat(catalog): add movie import`, `fix(review): resolve validation`

## ğŸ”§ ê¸°ìˆ ë³„ ê°€ì´ë“œ

### TypeScript/NestJS/Next.js
- ES Modules, ëª…ì‹œì  íƒ€ì… (any ê¸ˆì§€), async/await ì‚¬ìš©, ìƒì„±ì ì£¼ì…, `@Injectable()`
- Next.js: App Router, Server Components ìš°ì„ , React Query + Zod
- ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸í™˜ì„± ì´ìŠˆ ì‹œ CommonJS ì „í™˜ ê°€ëŠ¥ (ì‚¬ìœ  ëª…ì‹œ), ë³µì¡í•œ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬ ì‹œ Client Boundary í—ˆìš©
- **ìƒì„¸**: [í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ í‘œì¤€](docs/guides/frontend-development-standards.md)

### Kotlin/Spring Boot
- Kotlin ì»¨ë²¤ì…˜, ìƒì„±ì ì£¼ì…, ë°ì´í„° í´ë˜ìŠ¤ í™œìš©
- DDD ê³„ì¸µ: Domain, Application, Infrastructure, Interfaces
- SLF4J ë¡œê¹… (traceId í¬í•¨), íŠ¸ëœì­ì…˜ ë²”ìœ„ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ ë‹¨ìœ„ì˜ ì¼ê´€ì„± ê²½ê³„ë¡œ ì •ì˜
- **ìƒì„¸**: [ê°œë°œ í‘œì¤€ ê°€ì´ë“œ](docs/guides/development-standards.md)

### í…ŒìŠ¤íŠ¸
- TypeScript: Jest/Vitest, Kotlin: JUnit 5 + MockK + Testcontainers, E2E: Playwright
- ì˜ˆì™¸ ì²˜ë¦¬, TraceId ì „íŒŒ, ErrorDetail í˜•ì‹ ê²€ì¦ í¬í•¨
- ê²€ì¦ ì „ëµ: ìœ ë‹›(ë¡œì§ ì¤‘ì‹¬), í†µí•©/E2E(í˜•ì‹ ê²€ì¦), ê³µí†µ ê²€ì¦ì€ í—¬í¼/ì»¤ìŠ¤í…€ matcherë¡œ ì¶”ìƒí™”

## ğŸ“š ì°¸ê³  ë¬¸ì„œ
- [ê°œë°œ í‘œì¤€ ê°€ì´ë“œ](docs/guides/development-standards.md) - ë°±ì—”ë“œ í•„ìˆ˜
- [í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ í‘œì¤€](docs/guides/frontend-development-standards.md) - í”„ë¡ íŠ¸ì—”ë“œ í•„ìˆ˜
- [ì‹ ê·œ ì„œë¹„ìŠ¤ ì²´í¬ë¦¬ìŠ¤íŠ¸](docs/guides/new-service.md) - ìƒˆ ì„œë¹„ìŠ¤ ì¶”ê°€ ì‹œ
