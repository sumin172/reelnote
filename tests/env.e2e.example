# E2E 테스트 환경 변수 예시 파일
#
# ⚠️ 중요: 이 파일은 참고용 예시입니다.
# 실제 tests/.env.e2e 파일은 e2e-env 프로젝트의 merge-env 스크립트에 의해 자동 생성됩니다.
#
# 사용 방법:
# 1. tests/e2e-env/config/base.env 파일을 수정하여 기본값을 변경하세요
# 2. 도커 실행 시 오버라이드가 필요한 경우 tests/e2e-env/config/e2e.docker.override.env를 수정하세요
# 3. 환경 변수 병합: nx run e2e-env:merge-env (또는 start:local/start:docker 실행 시 자동 병합)
#
# 사용 위치: tests/.env.e2e
# 모든 e2e 테스트 프로젝트에서 공유됩니다:
#   - e2e-frontend: 프론트엔드 단독 테스트 (API 모킹)
#   - e2e-cross: 크로스 서비스 E2E 테스트 (실제 API 사용)
#   - e2e-catalog: 카탈로그 서비스 E2E 테스트
#   - e2e-review: 리뷰 서비스 E2E 테스트
#
# 자세한 내용은 tests/e2e-env/README.md를 참고하세요.

# ========== 서비스 Base URL ==========
# 포트는 로컬/도커 모두 동일하게 사용
CATALOG_BASE_URL=http://localhost:4100
REVIEW_BASE_URL=http://localhost:5100
FRONT_BASE_URL=http://localhost:3100

# ========== Catalog Service ==========
PORT=4100
CORS_ORIGINS=http://localhost:3100

# ========== Review Service ==========
# Spring Boot는 application-e2e.yml에서 포트 설정

# ========== Catalog API Base URL (Review Service에서 사용) ==========
CATALOG_API_BASE_URL=http://localhost:4100/api

# ========== Database (PostgreSQL 인스턴스, DB 분리) ==========
# Catalog Service: catalog_e2e_db 사용
CATALOG_DB_URL=postgresql://postgres:postgres@localhost:5434/catalog_e2e_db?schema=app

# Review Service: review_e2e_db 사용
REVIEW_DB_URL=jdbc:postgresql://localhost:5434/review_e2e_db
REVIEW_DB_USERNAME=postgres
REVIEW_DB_PASSWORD=postgres
REVIEW_DB_SCHEMA=app

# ========== Redis ==========
# 로컬 Redis 사용 (선택사항)
REDIS_URL=redis://localhost:6380

# ========== TMDB API ==========
# E2E 테스트에서는 실제 TMDB API를 사용하거나 모킹할 수 있습니다
TMDB_API_BASE_URL=https://api.themoviedb.org/3
TMDB_API_TIMEOUT=10000
# TMDB_API_KEY=your_tmdb_api_key_here

# ========== Cache ==========
CACHE_TTL_SECONDS=3600
CACHE_NAMESPACE=catalog-cache

# ========== Movie Settings (E2E 테스트용 낮은 값) ==========
MOVIE_STALE_THRESHOLD_DAYS=7
WARM_POOL_SIZE=20
MOVIE_IMPORT_CONCURRENCY=1
MOVIE_IMPORT_QUEUE_THRESHOLD=20
MOVIE_IMPORT_CHUNK_SIZE=10
